/* design/tokens/design-tokens.css
   Core design tokens (CSS variables) and utility helpers.
   - Runtime themes available via [data-theme="..."] attributes on <html> or <body>.
   - Includes: material-dynamic baseline, dark-analytics (glass + analytics), editorial-hybrid, mobile-chat
   - Accessibility fallbacks use prefers-reduced-transparency and prefers-reduced-motion
*/

/* === Base tokens (system / Material Dynamic baseline) === */
:root {
  /* Typography */
  --font-sans: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --font-serif: "Merriweather", Georgia, "Times New Roman", Times, serif;
  --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono";

  --type-hero: 48px;
  --type-page: 32px;
  --type-h2: 24px;
  --type-h3: 20px;
  --type-body: 16px;
  --type-small: 14px;

  /* Radii & spacing baseline */
  --radius-xs: 6px;
  --radius-sm: 10px;
  --radius-md: 14px;
  --radius-lg: 20px;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 16px;
  --space-4: 24px;

  /* Elevation / shadows */
  --shadow-sm: 0 1px 2px rgba(2,6,23,0.06);
  --shadow-md: 0 6px 18px rgba(2,6,23,0.08);
  --shadow-glass: 0 8px 30px rgba(2,6,23,0.12);

  /* Motion */
  --motion-fast: 120ms;
  --motion-medium: 240ms;
  --motion-slow: 400ms;

  /* Generic colors (fallbacks) */
  --color-bg: #FFFFFF;
  --color-surface: #FFFFFF;
  --color-muted: #6B7280;
  --text-primary: #0B1220;
  --text-secondary: #374151;

  /* Accent (default dynamic primary) */
  --accent-1: #3B82F6;
  --accent-2: #10B981;
  --accent-3: #F97316;
}

/* === Theme: Dark Analytics (Glassmorphism + Dark Data Studio) ===
   Intended name: data-theme="dark-analytics"
*/
:root[data-theme="dark-analytics"]{
  --color-bg: #0B1020;           /* deep navy page background */
  --color-surface: #0E1420;      /* panel background */
  --color-surface-2: rgba(255,255,255,0.03);
  --glass-overlay: rgba(255,255,255,0.06);
  --glass-blur: 10px;

  --text-primary: #E6EEF3;
  --text-secondary: #AAB7C4;
  --color-muted: #7B8B9A;

  /* Premium accents for charts and highlights */
  --accent-cyan: #00E5FF;
  --accent-mint: #7CFFB2;
  --accent-amber: #FFD166;
  --accent-indigo: #5B7CFF;

  /* Chart palettes (ordered) */
  --chart-1: var(--accent-cyan);
  --chart-2: var(--accent-mint);
  --chart-3: var(--accent-indigo);
  --chart-4: var(--accent-amber);

  /* Glass card defaults */
  --card-bg: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  --card-border: rgba(255,255,255,0.04);

  /* Shadows slightly muted for dark */
  --shadow-sm: 0 4px 12px rgba(2,8,20,0.6);
  --shadow-md: 0 10px 30px rgba(2,8,20,0.7);
  --shadow-glass: 0 20px 60px rgba(2,8,20,0.75);
}

/* === Theme: Editorial Hybrid (Editorial reading + Mobile chat interactions) ===
   Intended name: data-theme="editorial-hybrid"
*/
:root[data-theme="editorial-hybrid"]{
  --color-bg: #FFFFFF;
  --color-surface: #FFFFFF;
  --text-primary: #0B1220;
  --text-secondary: #475569;
  --color-muted: #6B7280;

  /* Editorial accents */
  --accent-1: #FF5A5F; /* warm salmon */
  --accent-2: #3B82F6;

  /* Reader card */
  --reader-width: 65ch;
  --reader-leading: 1.6;
  --reader-margin: 28px;

  /* Chat micro-tokens for hybrid */
  --chat-user-bg: #EEF2FF;
  --chat-bot-bg: #001833;
  --chat-bot-text: #ffffff;
}

/* === Theme: Material Dynamic baseline (data-theme="material-dynamic") ===
   The system uses a dynamic primary color; components adapt density & elevation.
*/
:root[data-theme="material-dynamic"]{
  /* Expect host application to set --dynamic-primary, --dynamic-on-primary */
  --accent-1: var(--dynamic-primary, #3B82F6);
  --on-accent-1: var(--dynamic-on-primary, #FFFFFF);
  --color-bg: #F8FAFC;
  --color-surface: #FFFFFF;
  --text-primary: #0B1220;
  --text-secondary: #475569;
}

/* === Reduced motion + reduced transparency fallbacks === */
@media (prefers-reduced-motion: reduce) {
  :root {
    --motion-fast: 0ms;
    --motion-medium: 0ms;
    --motion-slow: 0ms;
  }
}

@media (prefers-reduced-transparency: reduce) {
  /* Remove heavy blurs; provide solid fallback for glass panels */
  :root[data-theme="dark-analytics"] {
    --glass-overlay: rgba(10,12,18,0.96);
    --glass-blur: 0px;
    --card-bg: rgba(9,11,16,0.96);
  }
}

/* === Utility components using tokens (examples for devs) === */

/* Glass card (dark analytics preferred) */
.glass-card {
  background: var(--card-bg, var(--color-surface));
  border: 1px solid var(--card-border, rgba(0,0,0,0.06));
  border-radius: var(--radius-md);
  backdrop-filter: blur(var(--glass-blur, 0px));
  box-shadow: var(--shadow-glass);
  color: var(--text-primary);
  padding: calc(var(--space-3) + var(--space-2));
}

/* Editorial reader container */
.reader {
  max-width: var(--reader-width, 65ch);
  line-height: var(--reader-leading, 1.6);
  margin: var(--reader-margin, 28px) auto;
  font-family: var(--font-serif);
  color: var(--text-primary);
}

/* Chat composer */
.chat-composer {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: 10px;
  display: flex;
  gap: 8px;
  align-items: center;
}

/* Chart accent helpers (for chart libraries to pull CSS var) */
.chart-accent-1 { color: var(--chart-1); }
.chart-accent-2 { color: var(--chart-2); }
.chart-accent-3 { color: var(--chart-3); }
.chart-accent-4 { color: var(--chart-4); }

/* Focus and accessibility */
:focus {
  outline: 3px solid color-mix(in srgb, var(--accent-1) 60%, transparent);
  outline-offset: 2px;
  transition: outline var(--motion-fast);
}